# v0.1.3 Release Notes

**Release Date**: 2025-12-08

## Summary

This release adds trivy to sbom-tools, provides manual signing workflow tooling, hardens both images with non-root users, and adds curl for CI workflows.

## Changes

### Trivy Integration

Added trivy v0.68.1 to the sbom-tools image, providing:

- Alternative SBOM generation workflow (Trivy vs Syft)
- Alternative vulnerability scanning workflow (Trivy vs Grype)
- Dockerfile/IaC config scanning for best practices

Users can now choose between:

- **Anchore workflow**: syft (SBOM) + grype (vuln scan)
- **Aqua workflow**: trivy (SBOM + vuln scan + config scan)

### Manual Signing Workflow

New scripts and Makefile targets for manual release signing:

```bash
# Phase 1: Automated setup
RELEASE_TAG=v0.1.3 make release-download
RELEASE_TAG=v0.1.3 make release-digests

# Phase 2: Interactive signing (human in separate shell)
# - cosign keyless (browser OIDC)
# - GPG signing
# - minisign signing

# Phase 3: Automated upload
make verify-release-key
RELEASE_TAG=v0.1.3 make release-upload
```

See `RELEASE_CHECKLIST.md` for complete workflow.

### Security Hardening

Both images now run as non-root users by default:

| Image        | User     | UID  |
| ------------ | -------- | ---- |
| goneat-tools | node     | 1000 |
| sbom-tools   | tooluser | 1000 |

Dockerfile linting now uses trivy config scanning (replaces docker build --check).

### v0.1.2 Signing Complete

The v0.1.2 release artifacts were manually signed during this development cycle:

- Cosign keyless signatures on both image digests
- SBOM attestations attached to images
- SHA256SUMS signed with GPG + minisign
- Public keys uploaded to release

## Image Details

### sbom-tools

| Tool  | Version     |
| ----- | ----------- |
| syft  | v1.18.1     |
| grype | v0.86.1     |
| trivy | v0.68.1     |
| curl  | 8.14.1      |
| Base  | alpine:3.21 |

Size: ~340MB (uncompressed)

### goneat-tools

| Tool     | Version        |
| -------- | -------------- |
| prettier | 3.7.4          |
| biome    | 2.3.8          |
| yamlfmt  | v0.20.0        |
| jq       | 1.8.1          |
| yq-go    | 4.49.2         |
| ripgrep  | 15.1.0         |
| taplo    | 0.10.0         |
| curl     | 8.17.0         |
| Base     | node:22-alpine |

Size: ~362MB (uncompressed)

## Verification

### Cosign (keyless)

```bash
cosign verify \
  --certificate-oidc-issuer https://accounts.google.com \
  --certificate-identity-regexp ".*@.*" \
  ghcr.io/fulmenhq/goneat-tools:v0.1.3
```

### GPG

```bash
curl -LO https://github.com/fulmenhq/fulmen-toolbox/releases/download/v0.1.3/SHA256SUMS-goneat-tools
curl -LO https://github.com/fulmenhq/fulmen-toolbox/releases/download/v0.1.3/SHA256SUMS-goneat-tools.asc
curl -LO https://github.com/fulmenhq/fulmen-toolbox/releases/download/v0.1.3/fulmen-toolbox-release-signing-key.asc

GPG_TMPDIR=$(mktemp -d)
gpg --homedir "$GPG_TMPDIR" --import fulmen-toolbox-release-signing-key.asc
gpg --homedir "$GPG_TMPDIR" --verify SHA256SUMS-goneat-tools.asc SHA256SUMS-goneat-tools
rm -rf "$GPG_TMPDIR"
```

### Minisign

```bash
curl -LO https://github.com/fulmenhq/fulmen-toolbox/releases/download/v0.1.3/SHA256SUMS-goneat-tools
curl -LO https://github.com/fulmenhq/fulmen-toolbox/releases/download/v0.1.3/SHA256SUMS-goneat-tools.minisig
curl -LO https://github.com/fulmenhq/fulmen-toolbox/releases/download/v0.1.3/fulmenhq-release-signing.pub

minisign -Vm SHA256SUMS-goneat-tools -p fulmenhq-release-signing.pub
```

---

Generated by Forge Neat under supervision of @3leapsdave

Co-Authored-By: Forge Neat <noreply@3leaps.net>
Co-Authored-By: Arch Eagle <noreply@3leaps.net>
